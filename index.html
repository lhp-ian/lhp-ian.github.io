<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Deformable Neural Radiance Fields creates free-viewpoint portraits (nerfies) from casually captured videos.">
  <meta name="keywords" content="Nerfies, D-NeRF, NeRF">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lhp-ian</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
  </div>
</nav>

<section class="hero">
  <div class="hero-body">
    <div class="container is-max-widescreen">
      <div class="columns is-centered">
        <div class="column is-five-sixths has-text-centered">
          <h1 class="title is-1 publication-title">Long-Horizon Planning with Large Language Models for Indoor Assistive Navigation of the Visually Impaired</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">Anonymous Author</span>
          </div>
          <div class="is-size-5 publication-authors">
          <span class="author-block">Affiliation Hidden</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- Video Link. -->
              <span class="link-block">
                <a href="#video-section"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-video"></i>
                  </span>
                  <span>Video</span>
                  </a>
                </span>
              <!-- Dataset Link. -->
              <span class="link-block">
                <a href="#dataset-section"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-database"></i>
                  </span>
                  <span>Dataset</span>
                  </a>
                </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code (comming soon)</span>
                  </a>
              </span>
            </div>

          </div>
      </div>
    </div>
  </div>
 </div>
</section>

<script>
document.querySelector('a[href="#dataset-section"]').addEventListener('click', function(e) {
  e.preventDefault(); // 阻止默认跳转
  document.getElementById("dataset-section").scrollIntoView({ behavior: "smooth" });
});
</script>
<script>
document.querySelector('a[href="#video-section"]').addEventListener('click', function(e) {
  e.preventDefault(); // 阻止默认跳转
  document.getElementById("video-section").scrollIntoView({ behavior: "smooth" });
});
</script>

<section class="section">
  <div class="container is-max-widescreen">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            For visually impaired individuals, assistive navigation systems play a crucial role in enabling independent mobility.
            However, long-horizon planning based on natural language (NL) instructions in complex indoor environments remains a significant challenge.
            Recent studies show the strong potential of Large Language Models (LLMs) in NL understanding and task-level planning.
            Yet, the inherent limitations of LLMs in mathematical reasoning and their susceptibility to hallucination hinder their reliability in low-level path planning.
            In this paper, we introduce an LLM-based indoor assistive navigation system that interprets NL instructions from visually impaired users for autonomous navigation.
            At its core is a novel planning agent that grounds instructions to the environment's topological map and generates optimal route plans.
            To avoid hallucination in geometric reasoning, the LLM handles only high-level semantic planning, while precise node-level paths are delegated to a classical graph search algorithm.
            We further implement a wearable assistive device that provides voice and vibrotactile feedback to deliver hands-free navigation.
            Offline evaluations and real-world experiments demonstrate that our system can reliably plan grounded routes and enable visually impaired users to autonomously complete long-horizon navigation tasks.
          </p>
        </div>
      </div>
    </div>
  </div>
 </section> 
    <!--/ Abstract. -->

<section class="section" id="system">
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3"><strong>System Overview</strong></h2>
        <div class="content has-text-justified">
          <img src="./static/images/2.png" alt="System Overview" style="max-width: 100%; height: auto; margin-bottom: 1rem;">
          <p>
            We propose an LLM-based indoor assistive navigation system for the visually impaired, which consists of two layers: high-level planning and low-level execution.
           The system centers on a proposed novel LLM-based planning agent that interprets users' NL instructions into semantically grounded long-horizon navigation plans. In the execution layer, a wearable assistive device, 
            along with vision-based localization and obstacle avoidance modules, guides visually impaired users in carrying out the generated plan.
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-left">
      <div class="column is-four-fifths">
        <div style="margin-top: 2rem;"></div>
        <h3 class="title is-4"><strong>High-level Planning Visualization*</strong></h3>
        <div class="content has-text-justified">
          <img src="./static/images/3.gif" alt="High-level Planning Visualization*" style="max-width: 100%; height: auto; margin-bottom: 1rem;">
          <p>
           The high-level planning first infers location-level candidate plans that satisfy the user’s intent. It then generates node-level candidates via an external planner.
          Finally, the optimal navigation plan is selected via evaluation and filtering. Should any anomaly be detected during evaluation, the system returns to the first stage for refinement.
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-left">
      <div class="column is-four-fifths">
        <div style="margin-top: 2rem;"></div>
        <h3 class="title is-4"><strong>Low-level Execution Visualization</strong></h3>
        <div class="content has-text-justified">
          <img src="./static/images/4.png" alt="System structure" style="max-width: 100%; height: auto; margin-bottom: 1rem;">
          <p>
          We implement a wearable assistive device to reliably enable independent navigation based on the generated plan.
            Indoor localization is achieved via signboard detection and recognition, and direction guidance is provided through clear voice prompts based on the user’s heading.
            During navigation, image-based obstacle detection is employed, and obstacle avoidance is ensured through vibrotactile feedback from the wristbands to ensure the user’s safety.
          </p>
        </div>
      </div>
    </div>
  </div>

 <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-left">
        <div class="column is-four-fifths">
          <div style="margin-top: 2rem;"></div>
          <h3 class="title is-4"><strong>Comparison with LLM-based Agents for Planning*</strong></h3>
          <img src="./static/images/1.png" alt="LLM-based Planning Agents Comparison" style="max-width: 100%; height: auto; margin-bottom: 1rem;">
          <div class="content has-text-justified">
          <p>
            Schematic diagrams of different LLM-based agents for planning. Our agent integrates the strengths of others. An external planner is employed to complement the LLM's limited mathematical reasoning. Diverse candidate plans are generated first, and the optimal one is then selected by an auxiliary LLM, which also performs feedback-driven refinement when necessary.
          </p>
          </div>
        </div>
    </div>
  </div>
  
   <div class="container is-max-widescreen">
      <div class="columns is-centered has-text-left">
        <div class="column is-four-fifths">
         <div style="margin-top: 2rem;"></div>
         <h3 class="title is-4"><strong>Comparison with Assistive Systems for the Visually Impaired</strong></h3>
          <table class="table is-bordered is-striped is-hoverable is-narrow" 
                 style="table-layout: fixed; width: 100%; max-width:1000px; margin: 0 auto; font-size:0.82rem; text-align:center; border-collapse: collapse;">
            <thead>
              <tr>
                <th style="vertical-align: middle;">System</th>
                <th style="vertical-align: middle;">Form</th>
                <th style="vertical-align: middle;">Navigation</th>
                <th style="vertical-align: middle;">Indoor<br>Localization</th>
                <th style="vertical-align: middle;">Long-horizon<br>Planning</th>
                <th style="vertical-align: middle;">Core<br>Sensors</th>
                <th style="vertical-align: middle;">Input<br>Mode</th>
                <th style="vertical-align: middle;">Feedback<br>Mode</th>
                <th style="vertical-align: middle;">NL<br>Interaction</th>
                <th style="vertical-align: middle;">Hands<br>Free</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: middle;"><a href="https://ieeexplore.ieee.org/abstract/document/10423088" target="_blank">DRAGON</a></td>
                <td style="vertical-align: middle;">Wheeled</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">RGB-D Camera,<br>LiDAR</td>
                <td style="vertical-align: middle;">Audio</td>
                <td style="vertical-align: middle;">Audio,<br>Kinesthetic</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✗</td>
              </tr>
              <tr>
                <td style="vertical-align: middle;"><a href="https://ieeexplore.ieee.org/abstract/document/9561786" target="_blank">Robotic Guide Dog</a></td>
                <td style="vertical-align: middle;">Quadruped</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">RGB-D Camera,<br>LiDAR,<br>Force Sensor</td>
                <td style="vertical-align: middle;">-</td>
                <td style="vertical-align: middle;">Kinesthetic</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
              </tr>
              <tr>
                <td style="vertical-align: middle;"><a href="https://www.science.org/doi/full/10.1126/scirobotics.abg6594" target="_blank">Augmented Cane</a></td>
                <td style="vertical-align: middle;">Smart Cane</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">RGB Camera,<br>LiDAR,<br>IMU,<br>GPS</td>
                <td style="vertical-align: middle;">Button</td>
                <td style="vertical-align: middle;">Kinesthetic,<br>Vibrotactile</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
              </tr>
              <tr>
                <td style="vertical-align: middle;"><a href="https://ieeexplore.ieee.org/abstract/document/9078775" target="_blank">Intelligent Aid</a></td>
                <td style="vertical-align: middle;">Wearable</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">IMU,<br>Infrared Sensor,<br>GPS</td>
                <td style="vertical-align: middle;">-</td>
                <td style="vertical-align: middle;">Cloud Alert,<br>Vibrotactile</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
              </tr>
              <tr>
                <td style="vertical-align: middle;"><a href="https://ieeexplore.ieee.org/abstract/document/9099604" target="_blank">Haptic Cuff</a></td>
                <td style="vertical-align: middle;">Wearable</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">RGB-D,<br>Camera,<br>CUFF Force Sensor</td>
                <td style="vertical-align: middle;">-</td>
                <td style="vertical-align: middle;">Audio,<br>Force</td>
                <td style="vertical-align: middle;">✗</td>
                <td style="vertical-align: middle;">✓</td>
              </tr>
              <tr>
                <td style="vertical-align: middle;"><strong>Ours</strong></td>
                <td style="vertical-align: middle;">Wearable</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">RGB-D Camera,<br>IMU,<br>Magneto<br>-meter</td>
                <td style="vertical-align: middle;">Audio</td>
                <td style="vertical-align: middle;">Audio,<br>Vibrotactile</td>
                <td style="vertical-align: middle;">✓</td>
                <td style="vertical-align: middle;">✓</td>
              </tr>
            </tbody>
          </table>
        <div class="content has-text-justified">
            <p>
                Our system is the first wearable assistive solution that can plan personalized and optimal long-horizon routes based on NL instructions and enable fully hands-free autonomous navigation for visually impaired users.
            </p>
        </div>
      </div>
     </div>
    </div>

    <div class="container is-max-widescreen">
      <div class="columns is-centered has-text-left">
        <div class="column is-four-fifths">
          <div style="margin-top: 2rem;"></div>
          <h3 class="title is-4"><strong>Device Specifications</strong></h3>
            <img src="./static/images/5.png" alt="Glasses" style="max-width: 100%; height: auto; margin-bottom: 1rem;">
              <div class="content has-text-justified">
                <p>
                  Cross-Sectional View and Design Concept of Binocular Camera (Glasses).
                </p>
              </div>
              <table id="device-specs" class="table is-bordered is-striped is-hoverable is-narrow" 
                     style="table-layout: fixed; width: 100%; max-width:1000px; margin: 0 auto; font-size:0.82rem; text-align:center; border-collapse: collapse;">
                  <thead>
                      <tr>
                          <th style="vertical-align: middle;">Component</th>
                          <th style="vertical-align: middle;">Parameter</th>
                          <th style="vertical-align: middle;">Specification</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td rowspan="7" style="vertical-align: middle;"><strong>Binocular Camera (Glasses)</strong></td>
                          <td>Dimensions</td>
                          <td>166mm × 78mm × 66mm</td>
                      </tr>
                      <tr>
                          <td>Weight</td>
                          <td>198g</td>
                      </tr>
                      <tr>
                          <td>Camera Module</td>
                          <td>Kangcheng Technology Dual-frame Camera</td>
                      </tr>
                      <tr>
                          <td>Minimum Resolution</td>
                          <td>800 × 600</td>
                      </tr>
                      <tr>
                          <td>Frame Rate</td>
                          <td>30FPS</td>
                      </tr>
                      <tr>
                          <td>Field of View</td>
                          <td>120°</td>
                      </tr>
                      <tr>
                          <td>Depth Range</td>
                          <td>0.5m-25m</td>
                      </tr>
  
                      <tr>
                          <td rowspan="4" style="vertical-align: middle;"><strong>Monocular Camera</strong></td>
                          <td>Camera Module</td>
                          <td>USB Camera WX172HD</td>
                      </tr>
                      <tr>
                          <td>Minimum Resolution</td>
                          <td>640 × 480</td>
                      </tr>
                      <tr>
                          <td>Frame Rate</td>
                          <td>30FPS</td>
                      </tr>
                      <tr>
                          <td>Field of View</td>
                          <td>120°</td>
                      </tr>
  
                      <tr>
                          <td rowspan="4" style="vertical-align: middle;"><strong>Vibration Wristband</strong></td>
                          <td>Microcontroller Unit</td>
                          <td>LILYGO T-Micro32 plus</td>
                      </tr>
                      <tr>
                          <td>Wireless Protocol</td>
                          <td>Bluetooth v4.2 BR/EDR and BLE</td>
                      </tr>
                      <tr>
                          <td>Pulse Width</td>
                          <td>150ms</td>
                      </tr>
                      <tr>
                          <td>Pulse Interval</td>
                          <td>100ms</td>
                      </tr>
  
                      <tr>
                          <td rowspan="4" style="vertical-align: middle;"><strong>Electronic Compass</strong></td>
                          <td>Angular Resolution</td>
                          <td>0.005°/LSB</td>
                      </tr>
                      <tr>
                          <td>Magnetic Field Resolution</td>
                          <td>0.0667mG/LSB</td>
                      </tr>
                      <tr>
                          <td>Acceleration Resolution</td>
                          <td>0.5mg/LSB</td>
                      </tr>
                      <tr>
                          <td>Output Frequency</td>
                          <td>0.2Hz-200Hz</td>
                      </tr>
                   </tbody>
              </table>
          </div>
      </div>
  </div>
</section>
  
      <!--/ Paper video. -->
<section class="section" id="video-section">
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Videos</h2>
        <p>
          (All faces and sensitive identifiers in the videos have been blurred.)
        </p>
        <h3 class="title is-4 style="text-align: left;"><strong>Real-World Demo1</strong></h3>
        <div class="publication-video">
          <video controls>
            <source src="static/videos/ICRA2026-video-demo1.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <p>
          User Instruction: "Please take me to the skin doctor after visiting the eye clinic, with a stop at the bathroom on the way, and finally bring me to pay the bill."
        </p>
        <p> 
          Environment: Hospital A (Map A).
        </p>
        <h3 class="title is-4" style="text-align: left;"><strong>Real-World Demo2</strong></h3>
        <div class="publication-video">
          <video controls>
            <source src="static/videos/ICRA2026-video-demo2.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <p>
          User Instruction: "Please take me to the eye-doctor."
        </p>
        <p> 
          Environment: Hospital B (Map B).
        </p>
      </div>
    </div>
  </div>
</section>

<!--/ Map. -->
<section class="section" id="map">
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Maps</h2>

        <!-- Map A -->
        <img src="./static/images/mapA.png" alt="mapA" style="max-width: 85%; height: auto; margin-bottom: 0.5rem;">
        <p style="margin-bottom: 1rem; font-weight: bold;font-size: 1.2rem;">Map A</p>

        <div style="max-height: 400px; overflow: auto; background-color: #f5f5f5; padding: 1rem; border: 1px solid #ddd; text-align: left;">
<pre>
{
  "nodes": [
        {
            "id": "n0",
            "name": "ENT&HN Surgery Dept.",
            "type": "location-level",
            "coord": [0.06, 0.22]
        },
        {
            "id": "n1",
            "type": "intersection-level",
            "coord": [0.11, 0.14]
        },
        {
            "id": "n2",
            "type": "intersection-level",
            "coord": [0.11, 0.61]
        },
        {
            "id": "n3",
            "name": "Restroom",
            "type": "location-level",
            "coord": [0.15, 0.10]
        },
        {
            "id": "n4",
            "type": "intersection-level",
            "coord": [0.19, 0.14]
        },
        {
            "id": "n5",
            "type": "intersection-level",
            "coord": [0.19, 0.61]
        },
        {
            "id": "n6",
            "name": "Respiratory Dept.",
            "type": "location-level",
            "coord": [0.19, 0.69]
        },
        {
            "id": "n7",
            "name": "Registration",
            "type": "location-level",
            "coord": [0.26, 0.18]
        },
        {
            "id": "n8",
            "name": "Cashier",
            "type": "location-level",
            "coord": [0.28, 0.33]
        },
        {
            "id": "n9",
            "type": "intersection-level",
            "coord": [0.33, 0.14]
        },
        {
            "id": "n10",
            "type": "intersection-level",
            "coord": [0.33, 0.33]
        },
        {
            "id": "n11",
            "type": "intersection-level",
            "coord": [0.33, 0.61]
        },
        {
            "id": "n12",
            "type": "intersection-level",
            "coord": [0.33, 0.69]
        },
        {
            "id": "n13",
            "name": "Thoracic Surgery Dept.",
            "type": "location-level",
            "coord": [0.33, 0.90]
        },
        {
            "id": "n14",
            "type": "intersection-level",
            "coord": [0.42, 0.69]
        },
        {
            "id": "n15",
            "type": "intersection-level",
            "coord": [0.42, 0.93]
        },
        {
            "id": "n16",
            "name": "TCM Physiotherapy",
            "type": "location-level",
            "coord": [0.46, 0.21]
        },
        {
            "id": "n17",
            "type": "intersection-level",
            "coord": [0.50, 0.33]
        },
        {
            "id": "n18",
            "type": "start",
            "coord": [0.50, 0.69]
        },
        {
            "id": "n19",
            "name": "Restroom",
            "type": "location-level",
            "coord": [0.61, 0.27]
        },
        {
            "id": "n20",
            "type": "intersection-level",
            "coord": [0.67, 0.69]
        },
        {
            "id": "n21",
            "name": "Dermatology Dept.",
            "type": "location-level",
            "coord": [0.67, 0.93]
        },
        {
            "id": "n22",
            "name": "Nephrology Dept.",
            "type": "location-level",
            "coord": [0.76, 0.05]
        },
        {
            "id": "n23",
            "type": "intersection-level",
            "coord": [0.76, 0.13]
        },
        {
            "id": "n24",
            "type": "intersection-level",
            "coord": [0.76, 0.33]
        },
        {
            "id": "n25",
            "type": "intersection-level",
            "coord": [0.76, 0.42]
        },
        {
            "id": "n26",
            "type": "intersection-level",
            "coord": [0.76, 0.69]
        },
        {
            "id": "n27",
            "type": "intersection-level",
            "coord": [0.76, 0.90]
        },
        {
            "id": "n28",
            "name": "Clinical Lab",
            "type": "location-level",
            "coord": [0.81, 0.22]
        },
        {
            "id": "n29",
            "name": "Ophthalmology Dept.",
            "type": "location-level",
            "coord": [0.81, 0.51]
        },
        {
            "id": "n30",
            "type": "intersection-level",
            "coord": [0.91, 0.13]
        },
        {
            "id": "n31",
            "type": "intersection-level",
            "coord": [0.91, 0.42]
        },
        {
            "id": "n32",
            "name": "Ophthalmology Operating Room",
            "type": "location-level",
            "coord": [0.91, 0.61]
        },
        {
            "id": "n33",
            "name": "Treatment Center",
            "type": "location-level",
            "coord": [0.95, 0.33]
        }

    ],
    "edges": [
        ["n0", "n1"],
        ["n1", "n2"],
        ["n1", "n3"],
        ["n1", "n4"],
        ["n2", "n5"],
        ["n3", "n4"],
        ["n4", "n5"],
        ["n4", "n7"],
        ["n4", "n9"],
        ["n5", "n6"],
        ["n5", "n11"],
        ["n7", "n9"],
        ["n8", "n10"],
        ["n9", "n10"],
        ["n10", "n11"],
        ["n10", "n17"],
        ["n11", "n12"],
        ["n12", "n13"],
        ["n12", "n14"],
        ["n13", "n15"],
        ["n14", "n15"],
        ["n14", "n18"],
        ["n16", "n17"],
        ["n17", "n18"],
        ["n17", "n19"],
        ["n17", "n24"],
        ["n18", "n20"],
        ["n19", "n24"],
        ["n20", "n21"],
        ["n20", "n26"],
        ["n21", "n27"],
        ["n22", "n23"],
        ["n23", "n24"],
        ["n23", "n28"],
        ["n23", "n30"],
        ["n24", "n25"],
        ["n25", "n26"],
        ["n25", "n29"],
        ["n25", "n31"],
        ["n26", "n27"],
        ["n30", "n31"],
        ["n30", "n33"],
        ["n31", "n33"],
        ["n31", "n32"]
    ]
}
</pre>
        </div>
        <p style="margin-top: 0.5rem; margin-bottom: 1.5rem; font-weight: bold;font-size: 1.2rem;">JSON-format Map A</p>

        <!-- Map B -->
        <img src="./static/images/mapB.png" alt="mapB" style="max-width: 85%; height: auto; margin-bottom: 0.5rem;">
        <p style="margin-bottom: 1rem; font-weight: bold;font-size: 1.2rem;">Map B</p>

        <div style="max-height: 400px; overflow: auto; background-color: #f5f5f5; padding: 1rem; border: 1px solid #ddd; text-align: left;">
<pre>
{
    "nodes": [
        {
            "id": "n0",
            "name": "Ultrasonography",
            "type": "location-level",
            "coord": [0.09, 0.54]
        },
        {
            "id": "n1",
            "name": "Endocrinology",
            "type": "location-level",
            "coord": [0.09, 0.89]
        },
        {
            "id": "n2",
            "name": "Ophthalmology",
            "type": "location-level",
            "coord": [0.14, 0.07]
        },
        {
            "id": "n3",
            "name": "Ophthalmic Examination",
            "type": "location-level",
            "coord": [0.14, 0.23]
        },
        {
            "id": "n4",
            "name": "Toilet",
            "type": "location-level",
            "coord": [0.22, 0.42]
        },
        {
            "id": "n5",
            "type": "intersection-level",
            "coord": [0.27, 0.20]
        },
        {
            "id": "n6",
            "type": "intersection-level",
            "coord": [0.27, 0.54]
        },
        {
            "id": "n7",
            "type": "intersection-level",
            "coord": [0.27, 0.89]
        },
        {
            "id": "n8",
            "name": "Registration&Cashier",
            "type": "location-level",
            "coord": [0.47, 0.82]
        },
        {
            "id": "n9",
            "name": "Block Therapy Room",
            "type": "location-level",
            "coord": [0.47, 0.12]
        },
        {
            "id": "n10",
            "name": "VIP/Exclusive Clinic",
            "type": "location-level",
            "coord": [0.52, 0.40]
        },
        {
            "id": "n11",
            "type": "intersection-level",
            "coord": [0.52, 0.54]
        },
        {
            "id": "n12",
            "name": "Pharmacy",
            "type": "location-level",
            "coord": [0.52, 0.67]
        },
        {
            "id": "n13",
            "type": "start",
            "coord": [0.56, 0.94]
        },
        {
            "id": "n14",
            "type": "intersection-level",
            "coord": [0.76, 0.20]
        },
        {
            "id": "n15",
            "type": "intersection-level",
            "coord": [0.76, 0.54]
        },
        {
            "id": "n16",
            "type": "intersection-level",
            "coord": [0.76, 0.89]
        },
        {
            "id": "n17",
            "name": "Toilet",
            "type": "location-level",
            "coord": [0.81, 0.42]
        },
        {
            "id": "n18",
            "name": "Hematology",
            "type": "location-level",
            "coord": [0.85, 0.07]
        },
        {
            "id": "n19",
            "name": "General Surgery",
            "type": "location-level",
            "coord": [0.89, 0.44]
        },
        {
            "id": "n20",
            "name": "Otolaryngology",
            "type": "location-level",
            "coord": [0.90, 0.64]
        },
        {
            "id": "n21",
            "name": "Rheumatology&Immunology",
            "type": "location-level",
            "coord": [0.89, 0.80]
        },

    ],
    "edges": [
        ["n0", "n6"],
        ["n1", "n7"],
        ["n2", "n5"],
        ["n3", "n5"],
        ["n4", "n6"],
        ["n5", "n6"],
        ["n5", "n9"],
        ["n5", "n14"],
        ["n6", "n11"],
        ["n6", "n7"],
        ["n7", "n8"],
        ["n7", "n13"],
        ["n7", "n16"],
        ["n8", "n16"],
        ["n9", "n14"],
        ["n10", "n11"],
        ["n11", "n12"],
        ["n11", "n15"],
        ["n13", "n16"],
        ["n14", "n15"],
        ["n14", "n18"],
        ["n15", "n16"],
        ["n15", "n17"],
        ["n15", "n19"],
        ["n15", "n20"],
        ["n16", "n21"]
    ]
}
</pre>
        </div>
        <p style="margin-top: 0.5rem; font-weight: bold;font-size: 1.2rem;">JSON-format Map B</p>

      </div>
    </div>
  </div>
</section>


<!--/ Prompts -->
<section class="section" id="prompts">
  <div class="container is-max-widescreen">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">

        <h2 class="title is-3">LLM Prompts</h2>

        <!-- Prompt to LLM-α -->
        <h3 class="title is-4" style="margin-top: 1rem;">Prompt to LLM-α</h3>
        <div style="max-height: 500px; overflow: auto; background-color: #f5f5f5; padding: 1rem; border: 1px solid #ddd; text-align: left;">
<pre>
You are the conversational mediator between the user and an indoor navigation system for the visually impaired, called LLM-alpha.

## Role:
- Process user natural language requests (Q_NL), dialogue history (H), and optional current plan (P).
- Decide whether the request is navigation-related or not.
- If navigation-related, structure the request for LLM-beta; otherwise, reply directly to the user.

## Output Format:
You must always output a valid JSON object with the following structure:
    {
        "agent_reply": "string (short, user-friendly, ≤2 sentences)",
        "is_navigation": boolean,
        "forward": {
                       "Q_NL": "string (original or clarified user request)",
                       "confirm_required": boolean,
                       "dialogue_context": "string (brief context summary)"
                   } | null
    }

## Rules:
1. If the request is not navigation-related (e.g., greetings, status queries, general questions):
- Set is_navigation: false.
- Set forward: null.
- Reply directly in agent_reply.

2. If the request is navigation-related:
- Set is_navigation: true.
- Fill the forward object with:
        Q_NL: the original or clarified navigation request;
        confirm_required: true if you need clarification (e.g., ambiguous destination), otherwise false;
        dialogue_context: brief summary of relevant context from H or current_plan.

3. If confirm_required: true, phrase agent_reply as a concise yes/no or multiple-choice question.

4. If current_plan exists and the user asks about navigation status, incorporate it into your response.


## Few-shot Examples:
Examples 1 (Non-navigation request):
    Q_NL: "Where are we in the navigation right now?"
    H: ["Earlier, the system started a route towards the registration."]
    current_plan: {"current_location": "cashier", "next_location": "registration"}

    Output:
    {
      "agent_reply": "We are currently on the way to the registration and just passed by the cashier.",
      "is_navigation": false,
      "forward": null
    }

Examples 2 (Clear navigation request):
    Q_NL: "Please guide me to the reception desk and then to the nearest restroom."
    H: null

    Output:
    {
      "agent_reply": "Understood. I will plan a route to the reception desk, then continue to the nearest restroom.",
      "is_navigation": true,
      "forward": {
        "Q_NL": "Please guide me to the reception desk and then to the nearest restroom.",
        "confirm_required": false,
        "dialogue_context": "Initial navigation request"
      }
    }

Examples 3 (Ambiguous navigation request):
    Q_NL: "I'm feeling tired, maybe I need to go to a place to rest for a while."
    H: null

    Output:
    {
      "agent_reply": "Do you want me to guide you to the nearest rest area?",
      "is_navigation": true,
      "forward": {
        "Q_NL": "I'm feeling tired, maybe I need to go to a place to rest for a while.",
        "confirm_required": true,
        "dialogue_context": "User expressed need for rest; confirmation needed for navigation"
      }
    }

</pre>
        </div>

        <!-- Prompt to LLM-β -->
        <h3 class="title is-4" style="margin-top: 1rem;">Prompt to LLM-β</h3>
        <div style="max-height: 500px; overflow: auto; background-color: #f5f5f5; padding: 1rem; border: 1px solid #ddd; text-align: left;">
<pre>
You are the plan generator for an indoor navigation system for the visually impaired, called LLM-beta.
Your task is to generate all location-level candidate plans, based on a confirmed natural-language navigation request (Q_NL) that has already been verified by LLM-alpha, and a JSON topological map (G).

## Role:
- Interpret user navigation requests (Q_NL) and generate candidate location-level plans.
- Ground natural language instructions to location nodes in the topological map (G).
- Generate a Directed Acyclic Graph (DAG) representation of candidate plans, considering order and flexible constraints.
- Handle replanning when feedback (R) is provided.

## Input Format:
- User natural language navigation request (Q_NL).
- JSON-format topological map of the environment (G):
    - `nodes`: a list of nodes, each with fields:
        - `id`: unique identifier
        - `name` (optional): real-world location label
        - `type`: `"location-level"` or `"intersection-level"`
        - `coord`: [x,y] coordinates (float)
    - `edges`: undirected connectivity between node IDs
- Optional feedback information for replanning (R) (may be empty):
    - {"what": "...", "how": "..."}, evaluator suggests how to adjust candidates;
    - {"where": "..."}, evaluator specifies a new current start location for replanning.

## Output Format:
You must always output a valid JSON object with no extra text outside, for example:
-----------------------------------------------
    {
      "nodes": [
        {"id": "node_id1"},
        {"id": "node_id2"},
        {"id": "node_id3"},
        {"id": "node_id4"},
          ...
      ],
      "edges": [
        ["node_id1", "node_id2"],
        ["node_id2", "node_id3"],
          ...
      ],
      "flexible": ["node_id4"],
          ...
      }
-----------------------------------------------
where:
        - `nodes`: list of all location-level nodes IDs required in these plans, in the form[{"id": "..."}, ...];
        - `edges`: list of directed edges encoding strict precedence constraints, in the form[["idA", "idB"], ...];
        - `flexible`: list of location-level node IDs that are unconstrained and may appear at any position.

## Rules:
1. Generate DAG-represented location-level plans based on the user navigation requests (Q_NL) and the topological map (G).
2. Ensure all location nodes exist in the topological map G.
3. Respect explicit order constraints in user requests (e.g., "after", "before", "then", etc.).
4. The location named "start" by default serves as the starting node. And it must be the first node unless R is provided.
5. Each plan should be represented as a subgraph of the generated directed acyclic graph (DAG).
6. "flexible" nodes cannot be scheduled before "start". Flexible nodes may be inserted at any position between constrained nodes.
7. Use step-by-step reasoning before generating the final output.
8. Regenerate when feedback R is provided.

## Few-shot Examples:
Examples 1 (Type I - Single-Goal Instruction):
    Q_NL: "Please take me to get a fundus examination."
    G: [{mapB}]
    R: null

    Reasoning:
        - User requests navigation to "fundus examination";
        - Ground "fundus examination" to node "n3: Ophthalmic Examination" in the topological map (mapB);
        - only single navigation goal.

    Output:
    {
        "nodes": [
            {"id": "n13"},
            {"id": "n3"}
        ],
        "edges": [
            ["n13", "n3"]
        ],
        "flexible": []
    }

Examples 2 (Type II - Multi-Goal Instruction without Order Constraints):
    Q_NL: "Take me to the registration desk, the respiratory department, the eye clinic, and the Chinese therapy section. Please take me by the quickest route."
    G: [{mapA}]
    R: null

    Reasoning:
        - User requests navigation to "registration desk", "respiratory department", "eye clinic", and "Chinese therapy section".
        - Ground "registration desk", "respiratory department", "eye clinic", and "Chinese therapy section" to node "n7: Registration", "n6: Respiratory Dept.", "n29: Ophthalmology Dept.", and "n16: TCM Physiotherapy" in the topological map (mapA), respectively;
        - No order is specified; all nodes are flexible.

    Output:
    {
        "nodes": [
            {"id": "n18"},
            {"id": "n7"},
            {"id": "n6"},
            {"id": "n29"},
            {"id": "n16"}
        ],
        "edges": [],
        "flexible": ["n7", "n6", "n29", "n16"]
    }

Examples 3 (Type III - Multi-Goal Instruction with Fully or Partially Ordered Goals):
    Q_NL: "Please guide me to get chest surgery consultation first, then later do some physical therapy, and also stop by the eye doctor on the route."
    G: [{mapA}]
    R: null

    Reasoning:
        - User requests navigation to "chest surgery consultation", "physical therapy", and "eye doctor";
        - Ground "chest surgery consultation", "physical therapy", and "eye doctor" to node "n13: Thoracic Surgery Dept.", "n33: Treatment Center", and "n29: Ophthalmology Dept." in the topological map (mapA), respectively;
        - first "n13: Thoracic Surgery Dept.", then "n33: Treatment Center"; "n29: Ophthalmology Dept." is flexible.

    Output:
    {
        "nodes": [
            {"id": "n18"},
            {"id": "n13"},
            {"id": "n33"},
            {"id": "n29"}
        ],
        "edges": [
            ["n18", "n13"],
            ["n13", "n33"]
        ],
        "flexible": ["n29"]
    }

Examples 4 (Replanning Scenario 1):
    Q_NL: "Take me for a chest surgery consultation, then for physical therapy, and stop by the eye doctor on the route."
    G: [{mapA}]
    R: [{"what": "the plan incorrectly arrives at the 'n33: Treatment Center' first", "how": "'n13: Thoracic Surgery Dept.' should be the first"}]

    Reasoning:
        - User requests navigation to "chest surgery consultation", "physical therapy", and "eye doctor";
        - Ground "chest surgery consultation", "physical therapy", and "eye doctor" to node "n13: Thoracic Surgery Dept.", "n33: Treatment Center", and "n29: Ophthalmology Dept." in the topological map (mapA), respectively;
        - first "n33: Treatment Center", then "n13: Thoracic Surgery Dept."; "n29: Ophthalmology Dept." is flexible;
        - Regenerate based on the rule that "'n13: Thoracic Surgery Dept.' should be the first".

    Output:
    {
        "nodes": [
            {"id": "n18"},
            {"id": "n13"},
            {"id": "n33"},
            {"id": "n29"}
        ],
        "edges": [
            ["n18", "n13"],
            ["n13", "n33"]
        ],
        "flexible": ["n29"]
    }

Examples 5 (Replanning Scenario 2):
    Q_NL: "Please guide me to get chest surgery consultation first, then later do some physical therapy, and also stop by the eye doctor on the route."
    G: [{mapA}]
    R: [{"where": "Treatment Center", "Clinical Lab"}]

    Reasoning:
        - User requests navigation to "chest surgery consultation", "physical therapy", and "eye doctor";
        - Ground "chest surgery consultation", "physical therapy", and "eye doctor" to node "n13: Thoracic Surgery Dept.", "n33: Treatment Center", and "n29: Ophthalmology Dept." in the topological map (mapA), respectively;
        - first "n13: Thoracic Surgery Dept.", then "n33: Treatment Center"; "n29: Ophthalmology Dept." is flexible;
        - Regenerate from "n33: Treatment Center", start with "n28: Clinical Lab"; The flexible "n29: Ophthalmology Dept." has not yet arrived.

    Output:
    {
        "nodes": [
            {"id": "n28"},
            {"id": "n33"},
            {"id": "n29"}
        ],
        "edges": [
            ["n28", "n33"]
        ],
        "flexible": ["n29"]
    }



</pre>
        </div>

        <!-- Prompt to LLM-γ -->
        <h3 class="title is-4" style="margin-top: 1rem;">Prompt to LLM-γ</h3>
        <div style="max-height: 500px; overflow: auto; background-color: #f5f5f5; padding: 1rem; border: 1px solid #ddd; text-align: left;">
<pre>
You are the plan evaluator and selector for an indoor navigation system for the visually impaired, called LLM-gamma.
Your task is to evaluate node-level candidate plans, select the optimal one, and provide feedback for replanning when needed.

## Role:.
- Ensure all plans are grounded in the topological map(G).
- Evaluate node-level candidate plans (P_nod) via hard constraints and path optimality.
- Select the best plan that satisfies user intent based on the user instruction (Q_NL) and minimizes total path length.
- Provide structured feedback to LLM-beta when no suitable plan is found.

## Input Format:
- Original user natural language instruction (Q_NL).
- P_nod: JSON-format node-level candidate plans, for example:
-----------------------------------------------
    {
      "plan1": {
        "nodes": ["n18", "n17", "n19", "n24", "n25", "n29", "n26", "n20", "n21", "n10", "n8"],
        "edges": [
          ["n18", "n17"],
          ["n17", "n19"],
          ["n19", "n24"],
          ["n24", "n25"],
          ["n25", "n29"],
          ["n29", "n26"],
          ["n26", "n20"],
          ["n20", "n21"],
          ["n21", "n20"],
          ["n20", "n18"],
          ["n18", "n17"],
          ["n17", "n10"],
          ["n10", "n8"]
        ]
      },
      "plan2":{...},
               ...
    }
-----------------------------------------------
- D: List of total path lengths for each candidate plan (same order as P_nod).
- JSON-format topological map of the environment (G):
    - `nodes`: a list of nodes, each with fields:
        - `id`: unique identifier
        - `name` (optional): real-world location label
        - `type`: `"location-level"` or `"intersection-level"`
        - `coord`: [x,y] coordinates (float)
    - `edges`: undirected connectivity between node IDs

## Output Format:
You must always output a valid JSON object with no extra text outside, for example:
-----------------------------------------------
{
  "selected_plan_index": 3,
  "replanning_required": false,
  "feedback": null
}
-----------------------------------------------
or
-----------------------------------------------
{
  "selected_plan_index": 3,
  "replanning_required": True,
  "feedback": {
    "what": "description of issue if replanning needed",
    "how": "suggestion for improvement"
  }
}
-----------------------------------------------
where:
- `selected_plan_index`: index of the selected plan in P_nod (-1 if no plan selected);
- `replanning_required`: true if feedback is provided to LLM-beta;
- `feedback`: structured feedback for LLM-beta (only present if replanning_required=true).

## Rules:
1. Apply two-stage evaluation to all candidate plans based on the user instruction (Q_NL):
   - Stage 1 (Hard Constraints): Check if each plan satisfies:
     a) All location-level nodes from user instruction appear in correct order;
     b) Every consecutive node pair has a valid edge in topological graph G.
   - Stage 2 (Optimality): Among valid plans, select the one with shortest total path length in the List of total path lengths (D).
2. If no candidate passes Stage 1, generate feedback for LLM-beta with:
   - "what": specific constraint violation description
   - "how": concrete suggestion for correction
3. Use step-by-step reasoning before generating the final output.
4. Feedback should be actionable and specific, guiding LLM-beta to generate better candidates.
5. Prioritize plans that fully satisfy user intent over marginally shorter paths.

## Few-shot Examples:
Example 1 (Successful Plan Selection):
    P_nod: [
    ["n18", "n29", "n21", "n8", "n19"],
    ["n18", "n29", "n8", "n21", "n19"],
    ["n18", "n21", "n29", "n8", "n19"]
    ]
    D: [85, 95, 110]
    G: [{mapA}]

    Reasoning:
        - Stage 1: All plans contain required locations in correct order? Yes
        - Stage 1: All consecutive edges valid in G? Yes
        - Stage 2: Plan 0 has shortest path length (85)
        - Select plan 0 as optimal

    Output:
    {
      "selected_plan_index": 0,
      "replanning_required": false,
      "feedback": null
    }

Example 2 (Order Intent Violation):
    P_nod: [
      ["n18", "n29", "n21", "n8", "n19"],
      ["n18", "n8", "n29", "n21", "n19"],
      ["n18", "n21", "n8", "n29", "n19"]
    ]
    D: [80, 75, 90]
    G: [{mapA}]

    Reasoning:
        - User instruction requires based on the user instruction (Q_NL) : n29 before n21
        - Plan 0: n29->n21 True (valid order)
        - Plan 1: n8->n29->n21 False (n8 should not come before n29)
        - Plan 2: n21->n8->n29 False (n21 should not come before n29)
        - Only plan 0 satisfies hard constraints
        - Select plan 0 despite longer path

    Output:
    {
      "selected_plan_index": 0,
      "replanning_required": false,
      "feedback": null
    }

Example 3 (Invalid Edge Detection):
    P_nod: [
      ["n18", "n29", "n21", "n8"],
      ["n18", "n29", "n8", "n21"],
      ["n18", "n21", "n29", "n8"]
    ]
    D: [70, 65, 80]
    G: [{mapA}]

    Reasoning:
        - Plan 0: n18->n29->n21->n8 True (all edges valid)
        - Plan 1: n18->n29->n8 False (edge n29->n8 doesn't exist in G)
        - Plan 2: n18->n21 False (edge n18->n21 doesn't exist in G)
        - Only plan 0 satisfies hard constraints

    Output:
    {
      "selected_plan_index": 0,
      "replanning_required": false,
      "feedback": null
    }

Example 4 (Replanning Required - No Valid Plans):
    P_nod: [
      ["n18", "n8", "n29", "n21"],
      ["n18", "n21", "n8", "n29"],
      ["n18", "n8", "n21", "n29"]
    ]
    D: [60, 70, 65]
    G: [{mapA}]

    Reasoning:
        - User instruction (Q_NL) requires: n29 before n21
        - Plan 0: n8->n29->n21 False (n8 should not be first)
        - Plan 1: n21->n8->n29 False (n21 should not be before n29)
        - Plan 2: n8->n21->n29 False (n21 should not be before n29)
        - No plan satisfies hard constraints
        - Generate feedback for LLM-beta

    Output:
    {
      "selected_plan_index": -1,
      "replanning_required": true,
      "feedback": {
        "what": "All plans violate the required order constraint: n29 should come before n21",
        "how": "'n29' should before 'n21' in the sequence"
      }
    }

Example 5 (Missing Location Node):
    P_nod: [
      ["n18", "n29", "n21"],
      ["n18", "n29", "n8", "n21"],
      ["n18", "n21", "n29"]
    ]
    D: [50, 70, 55]
    G: [{mapA}]

    Reasoning:
        - User instruction (Q_NL) requires: visiting n8, n21, n29
        - Plan 0: Missing n8
        - Plan 1: Contains all locations, but check order later
        - Plan 2: Missing n8

    Plan 1 order: n29->n8->n21 (need to verify if this satisfies user constraints)
    Order is acceptable based on the user instruction (Q_NL), select plan 1

    Output:
    {
      "selected_plan_index": 1,
      "replanning_required": false,
      "feedback": null
    }

Example 6 (Optimality Tie-breaker):
    P_nod: [
      ["n18", "n29", "n21", "n8"],
      ["n18", "n29", "n8", "n21"],
      ["n18", "n21", "n29", "n8"]
    ]
    D: [85, 85, 90]
    G: [{mapA}]

    Reasoning:
        - All plans satisfy hard constraints
        - Plans 0 and 1 have equal shortest path length (85)
        - Select the first occurring optimal plan (plan 0)

    Output:
    {
          "selected_plan_index": 0,
          "replanning_required": false,
          "feedback": null
        }
</pre>
        </div>

      </div>
    </div>
  </div>
</section>



<!-- 紧凑卡片样式 -->
<style>
.dataset-box {
  padding: 0.5rem;        /* 内边距小一点 */
  margin-bottom: 0.25rem; /* 上下间距紧凑 */
  font-size: 0.9rem;      /* 字稍小 */
  box-shadow: 0 1px 2px rgba(0,0,0,0.1); /* 轻微阴影，可删 */
}
</style>

<!-- ====================== 数据集展示 ====================== -->
<section id="dataset-section" class="section">
  <div class="container is-max-widescreen">
    <h2 class="title is-3 has-text-centered">Instruction Dataset (260)</h2>

    <!-- Tabs for Types -->
    <div class="tabs is-centered is-boxed">
      <ul>
        <li class="is-active" data-type="type1"><a><strong>Type I (40)</strong></a></li>
        <li data-type="type2"><a><strong>Type II (100)</strong></a></li>
        <li data-type="type3"><a><strong>Type III (120)</strong></a></li>
      </ul>
    </div>

    <!-- Map Selector -->
    <div class="field has-text-centered mb-5">
      <label class="label">Select Map</label>
      <div class="control">
        <div class="select is-medium">
          <select id="map-selector">
            <option value="map_A" selected>Map A</option>
            <option value="map_B">Map B</option>
          </select>
        </div>
      </div>
    </div>
    
    <!-- Dataset Display Area -->
    <div id="dataset-display"></div>
  </div>
</section>

<!-- ====================== 数据与逻辑 ====================== -->
<script>
// ================= 数据集 JSON 示例 =================
const Type_I = {
  "map_A": {
    1: "Please guide me to the nearest place to wash my hands.",
    2: "Can you guide me to the ear and throat clinic?",
    3: "Lead me to the sign-in desk.",
    4: "Bring me to the payment counter.",
    5: "Please guide me to the chest surgery department.",
    6: "I need to go to the skin clinic.",
    7: "Please take me to the kidney department.",
    8: "Guide me to the lab where they do blood tests.",
    9: "Take me to the medical testing room.",
    10: "Please bring me to the eye clinic.",
    11: "I need to go to the Chinese therapy room.",
    12: "Lead me to the eye operation room.",
    13: "Let’s go to the therapy area.",
    14: "Walk me to the ear checkup department.",
    15: "Guide me to the restroom near the eye clinic.",
    16: "Take me to the toilet near the registration desk.",
    17: "Walk me to the lung department.",
    18: "Take me to the place for breathing treatment.",
    19: "Take me to the department for cough and asthma.",
    20: "Head to the check-in desk.",
    21: "Lead me to the office for hospital fees.",
    22: "Walk me to the place to treat rashes.",
    23: "Lead me to the center for outpatient treatments.",
    24: "Bring me to the area for quick medical procedures.",
    25: "Bring me to the nephrology clinic."
  },
  "map_B": {
    26: "Please take me to the eye-doctor.",
    27: "Can you guide me to get an ultrasound scan?",
    28: "Take me to the clinic for hormone and diabetes care.",
    29: "Lead me to the doctor who handles thyroid issues.",
    30: "Take me to have a fundus examination.",
    31: "Guide me to the front desk for registration.",
    32: "Please take me to the nerve block treatment room.",
    33: "Can you take me to the private consultation room?",
    34: "Please lead me to the medicine counter.",
    35: "Take me to get the medicine.",
    36: "Lead me to the doctor for blood disorders.",
    37: "Take me to the surgery department.",
    38: "Bring me to the clinic for arthritis care.",
    39: "Guide me to the immune system specialist.",
    40: "Take me to the clinic that treats blood diseases."
  }
};

const Type_II = {
  "map_A": {
    1: "I need to see doctors for my breathing and my kidney issues separately, and get some treatment. Please take me by the quickest route.",
    2: "I need to get my throat checked, use the toilet, and then go to the payment desk. Please plan the fastest route.",
    3: "Take me to the lung department and the kidney clinic. I also want to stop by the restroom on the way.",
    4: "I have appointments at the skin doctor and the eye clinic. Also, I need to get some treatment afterwards.",
    5: "Please guide me to the registration counter, the billing office, and the laboratory for tests.",
    6: "I need to see a doctor for chest surgery and then go to the TCM physiotherapy area. Also, I want to use the toilet.",
    7: "Take me to the respiratory department and the dermatology clinic. I also need to pay my bill.",
    8: "I want to visit the ENT specialist, the eye surgery room, and the treatment center. Please find the quickest path.",
    9: "I need to go to the check-in desk, the cashier, and the blood test lab. Also, I want to use the restroom.",
    10: "Please take me to the thoracic surgery unit and the acupuncture room. I also need to visit the kidney department.",
    11: "I have to see the skin doctor and the eye doctor. Also, I need to get some medical treatment.",
    12: "Guide me to the registration area, the payment counter, and the restroom. I also want to go to the lab.",
    13: "Guide me through the registration desk, the respiratory department, the eye clinic, and the Chinese therapy section, no fixed sequence.",
    14: "Please take me to the thoracic surgery unit, the cashier, the check-in counter, and the eye surgery center, in whichever way is fastest.",
    15: "Escort me to the lung treatment area, the eye doctor’s office, the physiotherapy clinic, and the cashier desk, order is flexible.",
    16: "I’d like to go by the nephrology section, the blood test room, the therapy hub, and the dermatology clinic.",
    17: "Take me to the ophthalmology outpatient area, the lab, the ENT ward, and a nearby restroom.",
    18: "Help me stop at the kidney clinic, the ENT department, the dermatology center, and a restroom.",
    19: "Please guide me to the lung clinic, the treatment office, the ophthalmology ward, and the cashier desk.",
    20: "Lead me through the ENT office, the Chinese therapy clinic, the billing desk, and the dermatology ward.",
    21: "I need to visit the blood draw station, the chest surgery service, the skin care unit, and the check-in counter.",
    22: "Take me to the ophthalmology operating room, the physiotherapy ward, the cashier, and the kidney clinic.",
    23: "Please get me to the respiratory office, the ENT section, the lab, and the treatment hub, order can vary.",
    24: "Help me reach the dermatology center, the billing station, the ophthalmology clinic, and the lab.",
    25: "I want to stop by the chest surgery department, the Chinese medicine therapy center, the registration counter, and a restroom.",
    26: "Take me to the ophthalmology outpatient service, the kidney office, the therapy clinic, and the cashier desk.",
    27: "Please include the ENT ward, the lung treatment unit, the blood test lab, and the skin care department.",
    28: "Bring me through the therapy room, the dermatology clinic, the eye surgery area, and the cashier.",
    29: "Lead me to the ophthalmology consultation zone, the treatment hub, the check-in counter, and the nephrology clinic.",
    30: "I’d like to go by the ENT department, the clinical laboratory, the chest surgery service, and a nearby washroom.",
    31: "Please take me to the skin department, the kidney unit, the treatment center, and the ophthalmology outpatient wing.",
    32: "Please escort me to the lung clinic, the registration counter, the blood draw lab, and the billing desk.",
    33: "Help me visit the therapy office, the ENT section, the cashier window, and the ophthalmology clinic.",
    34: "Bring me to the thoracic surgery ward, the dermatology clinic, the therapy hub, and a restroom.",
    35: "I want to stop at the ophthalmology surgery unit, the lab, the kidney department, and the billing counter.",
    36: "Please take me to the Chinese medicine treatment area, the ENT ward, the skin care service, and the registration counter.",
    37: "Guide me to the respiratory unit, the dermatology department, the treatment hub, and the ophthalmology wing.",
    38: "I plan to reach the skin doctor’s office, the lab, the ENT surgery unit, and the cashier.",
    39: "Please help me get to the ENT department, the check-in desk, the clinical lab, and the treatment center.",
    40: "Bring me to the lung clinic, the cashier counter, the ophthalmology clinic, and the physiotherapy room.",
    41: "Please lead me to the ophthalmology surgery room, the skin care department, the therapy office, and the respiratory clinic.",
    42: "Help me visit the registration desk, the ophthalmology outpatient clinic, the therapy hub, and a washroom.",
    43: "Could you take me past the reception, the ENT clinic, and the payment counter?",
    44: "Take me to the restroom, the dermatologist, the cashier counter, and the acupuncture area, please.",
    45: "Let’s make stops at the ENT office, the treatment hall, the eye clinic, and the billing window.",
    46: "Please arrange a path that passes by the renal office, the cashier, the testing lab, and a washroom.",
    47: "Help me get to the dermatologist, the chest surgery service, and the reception.",
    48: "Can we go to the ENT clinic, the billing counter, the lung department, and the lab?",
    49: "Take me to the physiotherapy room, the eye surgery center, and the place where I can pay.",
    50: "I’d like to see the kidney clinic, the skin specialist, the treatment hub, and the restroom.",
    51: "Walk me to the front desk, the ENT ward, and the chest surgery clinic.",
    52: "Could you help me find the front desk, the kidney office, the eye doctor, and the testing lab?",
    53: "Can you show me the kidney clinic, the acupuncture & massage area, and the cashier desk?",
    54: "Take me to the vision clinic, the bathroom, the blood draw room, and the skin doctor’s office.",
    55: "Walk me to the chest surgery consultation, the Chinese medicine therapy area, the cashier, and the ENT office.",
    56: "Please bring me to the dermatologist, the bathroom, the therapy center, and the blood test room.",
    57: "Help me reach the ophthalmology clinic, the lab, the kidney office, and the physiotherapy area.",
    58: "I plan to visit the chest surgeon’s office, the physiotherapy ward, and the bathroom.",
    59: "Please guide me to the chest surgery ward, the eye clinic, the restroom, and the billing counter, whichever way is easiest.",
    60: "Please bring me to the ENT clinic, the lab, and the lung department."
  },
  "map_B": {
    61: "I plan to refill my medicine, see my injury doctor, and get an invoice. Please guide me in the most convenient order.",
    62: "Help me find the vision check room, the cashier desk, and the blood test area.",
    63: "Can you guide me to the place for ultrasound, the immune clinic, and the pharmacy?",
    64: "Bring me to the throat and nose clinic, the surgery office, and the bathroom in the most convenient route",
    65: "I want to go to the rheumatology section, the eye exam area, and the registration desk. Please take me by the quickest route.",
    66: "Show me the way to the special clinic, the medicine shop, and the toilet.",
    67: "Please help me go to the hormone department, the blood draw room, and the ENT doctor.",
    68: "Help me get to the drugstore, the restroom, and the general surgery room.",
    69: "I need to check my eyes, pick up my medication, and handle the bill.",
    70: "I’d like to see the rheumatism doctor, get my hospital fees settled, and have blood work done.",
    71: "I need a diabetes appointment, an imaging scan, and my charges settled.",
    72: "Please guide me to blood work, hormone testing, and medicine pickup.",
    73: "Can you take me to the throat doctor, get my blood tested, and pick up my tablets?",
    74: "I need my eyesight tested, a talk with the immune doctor, and a prescription pickup.",
    75: "Take me to the surgeon, the blood draw room, and the pill counter.",
    76: "I’d like to refill my prescriptions, get a blood test, and meet the immune doctor. I also want to pay my hospital fees.",
    77: "Help me see the immune clinic, stop by the drug counter, and collect my pills. Also, I want a quick eye exam.",
    78: "I’d like to visit the ear doctor, the scan room, and the cashier. I also need to pick up medicine.",
    79: "I’m visiting the surgery room, doing a scan, and collecting prescriptions.",
    80: "I need to stop at the immune office, the vision check area, and the cashier desk.",
    81: "I’m visiting the hormone clinic, the scan room, and the pharmacy hub.",
    82: "I plan to go to the arthritis clinic, the blood lab, the pharmacy counter, and the cashier desk",
    83: "I’m going to the surgery room, the blood lab, the vision check area, and the pharmacy counter.",
    84: "I’m stopping at the hormone doctor, the pill counter, and the pharmacy counter.",
    85: "Could you guide me to the immune clinic, the ear specialist, and the blood lab? The quickest route would be great.",
    86: "I need to see the surgery room, the pharmacy hub, and the registration desk. Take the most convenient path, please.",
    87: "Let’s go to the vision check area, the sinus clinic, and the drug counter. I want the fastest route.",
    88: "I’d like to visit the throat specialist, the drug counter, and the vision clinic. Take me the easiest way.",
    89: "I plan to stop by the arthritis office, the scan area, and the cashier desk. Please guide me through the simplest path.",
    90: "Help me see the immune office, the surgery room, and the medicine shelf. I prefer the fastest way.",
    91: "I need a vision exam, stop by the hormone clinic, and visit the drug counter. Please use the quickest path.",
    92: "Can you guide me to the arthritis clinic, the pill counter, and the scan area? The shortest route is preferred.",
    93: "I want to see the ear specialist and the surgery room. Also, I need the pharmacy counter, via the easiest way.",
    94: "I want the hormone clinic, drug counter, scan room, and cashier desk. Please guide me by the easiest route.",
    95: "Let’s do a vision exam and stop by the immune office. I also need the pharmacy hub, fastest way.",
    96: "I need a quick eye test. Also see the ear doctor and the drug counter via the most convenient path.",
    97: "Guide me to the throat specialist, drug counter, and vision clinic. Most convenient path preferred.",
    98: "I need to see the ENT specialist, pick up prescriptions, and use the restroom. Take the fastest route.",
    99: "I need to get an ultrasound scan, pick up my medicine, and do a vision check. Please take me by the quickest way.",
    100: "Help me visit the hormone clinic, do physiotherapy, pick up medicine, and use the restroom via the easiest route."
  }
};

const Type_III = {
  "map_A": {
    1: "Please take me to the skin doctor after visiting the eye clinic, with a stop at the bathroom on the way, and finally bring me to pay the bill.",
    2: "First take me to get registered, then go for a throat check-up, and stop by the restroom on the way.",
    3: "After picking up my lab report, bring me to the respiratory department for a follow-up, and finally to pay.",
    4: "Please take me to the eye operating room after visiting the dermatologist, with a stop at the treatment center.",
    5: "I need to go to the thoracic surgery department first, then to the TCM physiotherapy, and on the way, stop at a restroom.",
    6: "Start by taking me to the nephrology department, then to the clinical lab for tests, and finally to the cashier.",
    7: "First, I want to visit the ophthalmology department, then go to the respiratory department, and stop at the registration desk midway.",
    8: "I'd like to go to the treatment center first, then to the ENT department, and finally to pick up my medicine.",
    9: "After I see the skin doctor, bring me to the eye surgery room, and stop at the lab for a quick test.",
    10: "Could you please guide me to do a lung screening, see the ENT doctor, have a therapy session, and then check my vision?",
    11: "Please take me to the nephrology department after I visit the ophthalmologist, with a stop at the clinical lab.",
    12: "I'd like to go to the dermatology department first, then to the nephrology department, and on the way, stop at a restroom.",
    13: "After picking up my lab report from the clinical lab, bring me to the ophthalmology department for an eye check, then to the thoracic surgery department for a follow-up, and finally to the restroom.",
    14: "First, I want to register at the registration desk, then have an eye exam at the ophthalmology department, after that receive treatment at the treatment center, and finally pay at the cashier.",
    15: "Please arrange for me to get chest surgery consultation first, then later do some traditional therapy, and also stop by the eye doctor on the route.",
    16: "Take me to the skin clinic after I register at the front desk, and make sure I can also settle my fees and have a quick restroom break.",
    17: "Help me get a kidney checkup first, then go for blood testing, and after that stop at the pharmacy desk to collect my prescription.",
    18: "I'd like to see the ear doctor, but only after finishing my vision test; I also need to handle payment and pass by the restroom.",
    19: "Please let me get physiotherapy before meeting the surgeon, and I also want to register and visit the treatment office.",
    20: "I should register first before seeing the dermatologist, and I also want to use the toilet and later get a vision exam.",
    21: "Please guide me through an eye surgery follow-up first, then a consultation with the rheumatism doctor, and include both a treatment stop and payment desk.",
    22: "I want to do my lung scan after registration, and please include a restroom stop and an appointment with the eye doctor as well.",
    23: "Take me to the kidney specialist, but only after my dermatology visit, and also arrange for a cashier stop and an eye test on the way.",
    24: "Please take me to the skin clinic, then have a chest scan, visit therapy, and finish at the ENT office.",
    25: "Please have me do blood testing before I meet the hormone doctor, and after that also include a toilet break and a treatment consultation.",
    26: "I'd like to do my blood test first, then have a skin consultation, and finally end at the billing counter.",
    27: "I want to see the eye specialist first, then get some tests done in the lab, afterwards visit the ENT doctor, and finally go to the treatment center.",
    28: "Help me get a kidney consultation before the chest surgery, also visit the therapy center, and finally go to the eye clinic.",
    29: "I'd like to see the eye specialist before visiting the ENT department, afterwards check the lab, and finally stop at the therapy hub.",
    30: "Visit the lung clinic before the therapy room, then see the dermatology doctor, and finally the ophthalmology outpatient area.",
    31: "Go to the therapy room before the ENT doctor, afterwards visit the ophthalmology outpatient department, and finally the dermatology office.",
    32: "See the kidney specialist before the lab, afterwards visit the chest surgeon, and finally the ophthalmology operating room.",
    33: "Visit the throat doctor before the lung clinic, then check the ophthalmology surgery area, and finally the Chinese therapy room.",
    34: "I need to get a chest scan before visiting the eye check-up room, and I also want to stop at the therapy area.",
    35: "Please help me see the ear and throat doctor first, and then get my blood test done; the pharmacy can be visited anytime.",
    36: "Guide me to the vision check and then the arthritis doctor; I also need to stop by physiotherapy on the way.",
    37: "I need a follow-up at the nephrology office, check my eyes, and visit the blood lab; the nephrology visit should be first.",
    38: "Take me to see the ENT specialist and the chest surgery doctor; also, I want to visit the eye operating room at some point.",
    39: "I plan to see the eye doctor before the respiratory department; I also want to stop at physiotherapy and the clinical lab.",
    40: "I want a chest scan, see the ear doctor, and visit the blood lab; make sure the chest scan is first, others can vary.",
    41: "Escort me to the eye exam, then the skin specialist; the lung check and pharmacy stop can be anywhere.",
    42: "I need to get a blood test after visiting the ENT doctor; also, stop by physiotherapy and check my eyes.",
    43: "Help me see the thoracic surgeon before doing physiotherapy; I also want to visit the clinical lab and get medicine.",
    44: "I'd like to have an eye check-up, a skin consultation, and grab prescriptions; the eye check should be before the skin visit.",
    45: "Guide me to the therapy room after the lung exam; also include the ear and eye doctor stops.",
    46: "I want to visit the nephrology office first, then see the eye doctor; pick up medicine and do a skin check on the way.",
    47: "Take me to a chest scan, the blood lab, and physiotherapy; the chest scan should be before the blood lab.",
    48: "I need a nephrology follow-up before doing a vision test, and I also want to stop at the blood lab.",
    49: "I'd like a skin consultation and a lung check, and don't forget to pick up my medicine afterward.",
    50: "Take me to visit the ear specialist and chest surgeon first, and include the pharmacy and eye surgery stops when convenient.",
    51: "Please guide me to the therapy room after checking my lungs, and also visit the skin doctor and the blood lab.",
    52: "Can you take me to the ENT specialist, and please also include a chest scan and therapy visit?",
    53: "Please lead me to the therapy hub, then see the skin doctor, and also do a quick eye exam.",
    54: "Could you help me visit the nephrology clinic, then do an eye exam, and include stops at therapy and pharmacy?",
    55: "Please escort me to the thoracic surgeon, then the therapy hub, and include a quick vision test.",
    56: "Can you guide me to the skin doctor first, then the vision exam, and stop at therapy along the way, please?",
    57: "Could you take me to the thoracic surgeon, have a therapy session, do an eye exam, and stop by the pharmacy?",
    58: "Please help me see the thoracic surgeon first, then visit therapy, and include a vision exam along the way.",
    59: "Please help me go to the ENT clinic, then do a chest scan, visit therapy, and finish with a quick eye check.",
    60: "Please escort me to the nephrology office, do a vision test, and stop at the therapy room.",
    61: "Could you guide me to the skin doctor, then do a vision test, and also include therapy and pharmacy stops?",
    62: "I want to visit the nephrology clinic, then do a chest scan, and stop at the eye doctor and therapy room.",
    63: "Please take me to the nephrology office, then the thoracic surgeon, and also stop at therapy along the way.",
    64: "Could you help me visit the nephrology clinic, do a chest scan, and stop by the eye doctor, please?",
    65: "I want to see the thoracic surgeon, do a lung check, stop at therapy, and then pick up prescriptions, please.",
    66: "Could you take me to the ENT specialist, check my lungs, visit the therapy room, and stop at the eye doctor along the way?",
    67: "Please guide me to the ENT specialist, then do a chest scan, visit therapy, and finally have a vision test.",
    68: "Please help me visit the therapy hub, then see the thoracic surgeon, do a vision check, and stop at the pharmacy.",
    69: "I want to stop by the therapy hub, see the thoracic surgeon, do a vision exam, and finally pick up prescriptions.",
    70: "Could you guide me to the ENT office, do a chest scan, stop at therapy, and finally pick up prescriptions?",
    71: "Please guide me to the skin doctor, do a lung screening, stop at the therapy hub, and finish at the eye specialist.",
    72: "Please help me do a lung check, visit the ENT clinic, stop by therapy, and finally pick up my medication."
  },
  "map_B": {
    73: "First take me to pick up my ultrasound report, then go back to the doctor for my blood test follow-up, and stop for medicine purchase on the way.",
    74: "Please help me do a vision check, visit the therapy room, and pick up my prescriptions.",
    75: "I'd like to go to the hormone clinic, get a blood test, and stop by the VIP clinic for consultation.",
    76: "Please guide me to visit the ENT specialist, do an ultrasound, and check the physiotherapy area.",
    77: "I want to see the ophthalmology clinic, pick up my medicine, and get a therapy session.",
    78: "Please guide me to do a blood test, visit the rheumatology doctor, and stop at the pharmacy.",
    79: "Take me to the VIP clinic, get an eye exam, visit the therapy room, and pick up prescriptions.",
    80: "I'd like to go to the hormone office, do a quick ultrasound, see the ENT doctor, and stop by the pharmacy.",
    81: "Please take me to check my eyes, visit the general surgeon, get a therapy session, and pick up medicine.",
    82: "Please escort me to the blood lab, do a vision test, stop at the VIP clinic, and see the physiotherapy room.",
    83: "I want to visit the ENT office, do an ultrasound, check the hormone clinic, and get prescriptions.",
    84: "Could you guide me to the ophthalmology clinic, visit the therapy room, do a blood test, and stop at the pharmacy?",
    85: "Help me see the rheumatology doctor, get an eye check, visit the VIP clinic, and pick up my medicine.",
    86: "Please take me to the physiotherapy room, do a vision exam, see the ENT specialist, and stop at the blood lab.",
    87: "I'd like to visit the general surgeon, pick up prescriptions, do an ultrasound, and check the VIP clinic.",
    88: "Help me go to the ophthalmology ward, see the hormone doctor, stop at the therapy room, and pick up medicine.",
    89: "I want to visit the ENT department, do a blood test, get a vision exam, and stop by the pharmacy.",
    90: "Please guide me to the VIP clinic, visit the physiotherapy area, do an ultrasound, and see the general surgeon.",
    91: "Take me to the ophthalmology clinic, do a vision check, visit the ENT doctor, and get my prescriptions.",
    92: "I'd like to check my eyes, visit the therapy room, see the rheumatology doctor, and pick up medicine.",
    93: "Please take me to the hormone clinic, do a quick blood test, stop at the VIP office, and get therapy.",
    94: "Please escort me to the ENT specialist, get an eye exam, visit the physiotherapy room, and pick up medicine.",
    95: "I want to do a vision test, see the general surgeon, stop by the blood lab, and visit the VIP clinic.",
    96: "Help me check my eyes, visit the therapy area, get prescriptions, and see the ENT office.",
    97: "I'd like to do a blood test, see the ophthalmology clinic, stop by the VIP office, and get therapy.",
    98: "Please take me to the ENT doctor, do a vision check, visit the hormone clinic, and pick up my medicine.",
    99: "I want to visit the physiotherapy room, get an ultrasound, stop by the pharmacy, and see the rheumatology specialist.",
    100: "Help me see the VIP clinic, do a quick eye test, visit the ENT office, and get prescriptions.",
    101: "I plan to go to the general surgeon, visit the therapy room, do a blood test, and stop at the pharmacy.",
    102: "Please guide me to the ophthalmology clinic, see the hormone doctor, get therapy, and pick up medicine.",
    103: "Help me visit the ENT specialist, do a vision exam, stop at the VIP clinic, and pick up my prescriptions.",
    104: "I want to do an ultrasound, see the rheumatology doctor, visit the physiotherapy room, and pick up medicine.",
    105: "Take me to the blood lab, do a vision check, visit the ophthalmology clinic, and stop by the pharmacy.",
    106: "I'd like to check my eyes, visit the ENT office, get prescriptions, and see the VIP clinic.",
    107: "Please escort me to the therapy room, see the general surgeon, do a blood test, and pick up my medicine.",
    108: "Help me visit the VIP clinic, get a vision test, stop at the physiotherapy area, and see the hormone doctor.",
    109: "I want to do a quick eye exam, visit the ENT specialist, get prescriptions, and stop by the blood lab.",
    110: "Please guide me to the ophthalmology clinic, see the VIP office, do therapy, and pick up medicine.",
    111: "I plan to visit the hormone clinic, get a blood test, do a vision check, and see the ENT doctor.",
    112: "Help me go to the physiotherapy room, check my eyes, stop at the pharmacy, and see the general surgeon.",
    113: "I want to visit the VIP clinic, do an ultrasound, see the rheumatology specialist, and pick up prescriptions.",
    114: "Please escort me to the ENT office, do a vision exam, visit the therapy room, and stop at the pharmacy.",
    115: "Help me check my eyes, visit the hormone clinic, get prescriptions, and see the VIP clinic.",
    116: "I'd like to do a blood test, visit the ophthalmology clinic, stop by the physiotherapy area, and pick up medicine.",
    117: "Please take me to the ENT specialist, get a vision check, visit the general surgeon, and stop at the VIP clinic.",
    118: "I want to visit the therapy room, see the ophthalmology clinic, get prescriptions, and do a blood test.",
    119: "Help me see the hormone doctor, visit the VIP clinic, do a quick ultrasound, and stop at the physiotherapy room.",
    120: "Please take me to do a vision exam, get therapy, visit the ENT office, and pick up my medicine."
  }
};

// ================= 页面逻辑 =================
const datasets = {
  "type1": Type_I,
  "type2": Type_II,
  "type3": Type_III
};

let currentType = "type1";
let currentMap = "map_A";

function renderDataset(type, map) {
  const data = datasets[type][map];
  let html = '<div class="columns is-multiline">';
  for (const key in data) {
    html += `
      <div class="column is-half">
        <div class="box dataset-box">
          <strong>ID ${key}</strong>: ${data[key]}
        </div>
      </div>
    `;
  }
  html += '</div>';
  document.getElementById("dataset-display").innerHTML = html;
}

// 初始渲染
renderDataset(currentType, currentMap);

// Tab 切换 (Type)
document.querySelectorAll(".tabs li").forEach(tab => {
  tab.addEventListener("click", () => {
    document.querySelectorAll(".tabs li").forEach(t => t.classList.remove("is-active"));
    tab.classList.add("is-active");
    currentType = tab.dataset.type;
    renderDataset(currentType, currentMap);
  });
});

// Map 下拉切换
document.getElementById("map-selector").addEventListener("change", (e) => {
  currentMap = e.target.value;
  renderDataset(currentType, currentMap);
});
</script>


<footer class="footer">
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <div class="content">
          <p>
            This page was built using the <a href="https://github.com/google/nerfies">Academic Project Page Template</a>.
          </p>
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
